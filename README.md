# Quoicoubeats

## The support for user interactive input

### How to write a scenario

To use the support for user interactive input, you just need to add a `KeyboardBinding` configuration to the `.qb` file, outside the `Music` element.

Here is an example of how you must write the keyboard configuration :

```
Music "Music" {
  [...]
}

KeyboardBinding {
  Instrument "Drums"
	Bindings {
    Key W -> kd
    Key X -> ch
    Key C -> sd
  }
}
```

In this example, the Drums instrument is configured to play the note *kd* when *W* is pressed, *ch* when *X* is pressed, and *sd* when *C* is pressed.

Currently, two instruments are implemented: **Drums** and **Piano**.

### Usage

Once your scenario is written, generate the files using the Langium Program. Once done, a message will appear on the console indicating the locations of the **.MIDI** and **Keyboard Program** files. To launch and fully utilize the Keyboard Program, ensure compliance with the following requirements :

### Requirements

In order to be able to listen to the Audio generated by the track (indicated by the `Music` element in the `.qb` file), you need to :

- Disable the CORS Policy
- Have an internet connexion.

#### Disable CORS Policy on Chrome

- MacOS (in Terminal)
  `open -na Google\ Chrome --args --user-data-dir=/tmp/temporary-chrome-profile-dir --disable-web-security --disable-site-isolation-trials``

- Windows (from "Run" dialog [Windows+R] or start menu in Windows 8+)
  `chrome.exe --user-data-dir=%TMP%\temporary-chrome-profile-dir --disable-web-security --disable-site-isolation-trials``

- Linux
  `google-chrome --disable-web-security``
